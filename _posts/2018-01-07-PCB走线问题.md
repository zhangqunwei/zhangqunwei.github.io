---
layout: post
title: PCB走线问题
date: 2018-01-07 
tags: PCB  
---
### 本文中心
    在电路中通过模式转换会引入共模电流，而对于共模电流，我们必须知道如何避免引入它，或者知道它的回流路径。

### 基本概念
#### 返回信号    
    PCB上每一个信号的流向如下图所示，从驱动器上出发到达接收器之后**必须**回到驱动器。信号从接收器返回驱动器时即称为返回信号。

    ![20180107](/images/post/2018-01-07-PCB走线问题/2018-01-07-PCB中信号的流向.png)  

    * 信号回流路径  
    信号回流路径指的是返回信号所走的路径，有时候在设计中我们必须考虑信号回流的问题。

> 信号回流路径是我们考虑PCB走线问题的关键。本文所有的讨论都是围绕回流路径展开的。

#### 电路：
    * 单端电路   
        信号从地或电源返回到驱动器的电路称为单端电路。  

    ![20180107](/images/post/2018-01-07-PCB走线问题/2018-01-06-典型的单端电路.png)  

    * 差分电路   
        在驱动器和接收器之间载有大小相等方向相反的互补信号的电路称为差分电路。
        * 差分电路是具有“对共模信号抑制，对差模信号放大”特征的电路。      
        * 两个信号从输入端输入，将两个信号的差值作为电路的有效输入信号，电路的输出是有效输入信号的放大，也就是对这两个输入信号之差的放大。   
        * 如果存在干扰信号，会对两个输入信号产生相同的干扰，通过二者之差，干扰信号的有效输入为零，这就达到了抗共模干扰的目的。    
        * 差分电路常常用于信号水平非常低的情况   

    ![20180107](/images/post/2018-01-07-PCB走线问题/2018-01-06-典型的差分电路.png)     

#### 信号：
    * 共模信号   
    信号从两条线上发出，从其他地方返回

    ![20180125](/images/post/2018-01-07-PCB走线问题/2018-01-25-共模信号.png)

    * 差模信号  
    信号从一条线上发出，从另一条线上返回

    ![20180125](/images/post/2018-01-07-PCB走线问题/2018-01-25-差模信号.png)

> * 在单端电路上走的是共模信号，而且我们知道该共模信号是从地（参考平面）或电源返回到驱动器。
> * 在实际情况中，差分电路上走的信号既有差模信号，也有共模信号。本文所讨论的就是在差分电路上如何避免引入共模信号。

### 问题引入
* 针对差分电路上的差模信号而言，理想情况下两个信号大小相等且方向相反,但在实际情况中是不可能做到的。原因如下：     
    * 驱动器有偏移（时序不完全相同）   
    * 导体长度不完全相等   
    * 传播时间不同（导体所处环境不同）    

    因此两条走线上的信号相减不可能始终为零。当不为零时，这个净信号（两个信号相减后所得的信号）是单向的，属于共模信号。
#### 问题：在差分电路上的共模信号从哪里返回呢？

